<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BloodBankApp</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        crossorigin="anonymous">

    <!-- jQuery and JS bundle w/ Popper.js -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
    <!--- <link rel="stylesheet" href="assets/css/style.css">-->
    </link>
    <style>
        h1 {
            text-align: center;
            color: black;
            margin-top: 100px;

        }

        #center {

            margin-left: auto;
            margin-right: auto;
            width: 75%;
        }


        label {
            font-style: bold;
            font-weight: 500;
        }
    </style>
    <script src="donorRequest.js"></script>
    <h1>DONOR DETAILS</h1>
</head>

<body>
    <header id="header">

        <!-- Load Header content-->
    </header>
    <main class="container-fluid">
        <form id="center" onsubmit="addRequest()" autocomplete="off">

            <div class="form-group">
                <label for="bloodgrp">CHOOSE A BLOOD GROUP: </label>

                <select class="form-control" id="bloodgrp" name="bloodgrp" required autofocus>
                     <option value="---">--PLEASE SELECT--</option> 
                    <option value="A+">A+</option>
                    <option value="A-">A-</option>
                    <option value="A1+">A1+</option>
                    <option value="A1-">A1-</option>
                    <option value="A1B+">A1B+</option>
                    <option value="A1B-">A1B-</option>
                    <option value="A2+">A2+</option>
                    <option value="A2-">A2-</option>
                    <option value="A2B+">A2B+</option>
                    <option value="A2B-">A2B-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                    <option value="B+">B+</option>
                    <option value="B-">B-</option>
                    <option value="O+">O+</option>
                    <option value="O-">O-</option>
                    <option value="Others">Others</option>
                </select></div>

            <div class="form-group">
                <label for="phoneno"> PHONENO</label>
                <input type="number" class="form-control" id="phoneno" name="phoneno"
                    placeholder="Enter your phone number" maxlenght="10" pattern="[1-9]{1}[0-9]{9}" required> </br></br>
            </div>
            <div class="form-group">
                
                <!-- <label for="createdBy">CREATEDBY </label>
                <input type="text" class="form-control" id="createdBy" name="createdBy"
                     placeholder="Enter your name"  required> </br></br> -->

            </div> 


            <input type="submit" class="btn btn-success" value="Submit" />
            <input type="reset" class="btn btn-danger" name="Clear" value="Clear" />



            </p>
        </form>
    </main>
    <script>
        $("#header").load("header.html");

        function addRequest() {
            event.preventDefault();

            var bloodgrp = document.querySelector("#bloodgrp").value;
            var phoneno = document.querySelector("#phoneno").value;
            // var createdby = document.querySelector("#createdBy").value;
            var reqid=Math.floor((Math.random() * 1000)+1);
            let listobj = { "bloodgrp": bloodgrp, "phoneno": phoneno ,"reqid":reqid};
            console.log(listobj);
            var addrequestObj = new AddRequest();
            let result = addrequestObj.addrequest(listobj);
            if (result == "success") {
                alert("Donor details added");
            }
            else {
                alert(" Adding failed");
            }
        }

    </script>
</body>

</html>